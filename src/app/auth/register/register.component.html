<app-base-layout>
  <div class="page-container">
    <div class="register-container">
      <div class="background-image"></div>
      <div class="register-box">
        <div class="logo-container">
          <img src="assets/images/leaf-logo.png" alt="Ecologistic Logo" class="logo">
        </div>

        <h2>Registro</h2>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <div class="input-container">
              <ion-icon name="person-outline"></ion-icon>
              <input type="text" formControlName="nombre" placeholder="Nombre completo">
            </div>
            <div class="error-message" *ngIf="registerForm.get('nombre')?.touched && registerForm.get('nombre')?.errors?.['required']">
              El nombre es requerido
            </div>
          </div>

          <div class="form-group">
            <div class="input-container">
              <ion-icon name="mail-outline"></ion-icon>
              <input type="email" formControlName="email" placeholder="Correo electrónico">
            </div>
            <div class="error-message" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['required']">
              El correo electrónico es requerido
            </div>
            <div class="error-message" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['email']">
              Ingresa un correo electrónico válido
            </div>
          </div>

          <div class="form-group">
            <div class="input-container">
              <ion-icon name="lock-closed-outline"></ion-icon>
              <input type="password" formControlName="password" placeholder="Contraseña">
            </div>
            <div class="error-message" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['required']">
              La contraseña es requerida
            </div>
            <div class="error-message" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['minlength']">
              La contraseña debe tener al menos 6 caracteres
            </div>
          </div>

          <div class="form-group">
            <div class="input-container">
              <ion-icon name="lock-closed-outline"></ion-icon>
              <input type="password" formControlName="confirmPassword" placeholder="Confirmar contraseña">
            </div>
            <div class="error-message" *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.errors?.['required']">
              Confirma tu contraseña
            </div>
            <div class="error-message" *ngIf="registerForm.errors?.['mismatch'] && registerForm.get('confirmPassword')?.touched">
              Las contraseñas no coinciden
            </div>
          </div>

          <button type="submit" class="register-button" [disabled]="!registerForm.valid || isLoading">
            <ion-spinner name="crescent" *ngIf="isLoading"></ion-spinner>
            <span *ngIf="!isLoading">Registrarse</span>
          </button>
        </form>

        <div class="additional-options">
          <div class="login-link">
            ¿Ya tienes cuenta? <a routerLink="/auth/login" class="login-link-green">Inicia sesión aquí</a>
          </div>
          <div class="home-link">
            <a routerLink="/" class="home-link-green">
              <ion-icon name="home-outline"></ion-icon>
              Volver al inicio
            </a>
          </div>
        </div>

        <div class="footer-text">
          Transporte ecológico con tecnología avanzada
        </div>
      </div>
    </div>
  </div>
</app-base-layout> 