<app-base-layout>
  <div class="page-container">
  <div class="login-container">
    <div class="background-image"></div>
    <div class="login-box">
      <div class="logo-container">
        <img src="assets/images/leaf-logo.png" alt="Ecologistic Logo" class="logo">
      </div>

      <h2>Iniciar Sesión</h2>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <div class="input-container">
            <ion-icon name="mail-outline"></ion-icon>
            <input type="email" formControlName="email" placeholder="Correo electrónico">
          </div>
          <div class="error-message" *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['required']">
            El correo electrónico es requerido
          </div>
          <div class="error-message" *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['email']">
            Ingresa un correo electrónico válido
          </div>
        </div>

        <div class="form-group">
          <div class="input-container">
            <ion-icon name="lock-closed-outline"></ion-icon>
            <input type="password" formControlName="password" placeholder="Contraseña">
          </div>
          <div class="error-message" *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']">
            La contraseña es requerida
          </div>
          <div class="error-message" *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['minlength']">
            La contraseña debe tener al menos 6 caracteres
          </div>
        </div>

          <button type="submit" class="login-button" [disabled]="!loginForm.valid || isLoading">
            <ion-spinner name="crescent" *ngIf="isLoading"></ion-spinner>
            <span *ngIf="!isLoading">Iniciar Sesión</span>
        </button>
      </form>

      <div class="additional-options">
        <a href="#" class="forgot-password">¿Olvidaste tu contraseña?</a>
        <div class="register-link">
          ¿No tienes cuenta? <a routerLink="/auth/register" class="register-link-green">Regístrate aquí</a>
        </div>
        <div class="home-link">
          <a routerLink="/" class="home-link-green">
            <ion-icon name="home-outline"></ion-icon>
            Volver al inicio
          </a>
        </div>
      </div>

      <div class="footer-text">
        Transporte ecológico con tecnología avanzada
        </div>
      </div>
    </div>
  </div>
</app-base-layout>
